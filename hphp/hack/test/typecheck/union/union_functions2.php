<?hh
function foo(): (function(float):mixed) {
  $f = $x ==> $x;
  if (count(vec[])) {
    $f = log1p<>;
  }
  return $f;
}
